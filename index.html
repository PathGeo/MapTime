<!DOCTYPE html>
<html>
  <head>
    <title>PathGeo-MapTime</title>
    <meta name="viewport" http-equiv="Content-Type" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	
	<link type="text/css" href='js/jquery/jquery.mobile-1.3.0.min.css' rel="stylesheet" />
	<link rel="stylesheet" href="js/leaflet/leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="js/leaflet/leaflet.ie.css" /><![endif]-->
	<link rel="stylesheet" href="js/leaflet/MarkerCluster.css" />
	<link rel="stylesheet" href="js/leaflet/MarkerCluster.Default.css" />
	<link rel="stylesheet" href="css/jquery.dataTables.css" />
	<link rel="stylesheet" href="css/ColVis.css" />
	<!--<link rel="stylesheet" href="css/jqueryUI/jquery-ui-1.8.4.custom-smoothness.css" />-->
	<!--[if lte IE 8]><link rel="stylesheet" href="js/leaflet/MarkerCluster.Default.ie.css" /><![endif]-->
	<!--[if IE]><link type="text/css" href='css/main_ie.css' rel="stylesheet" /><![endif]-->
	<!--[if !IE]><!--><link type="text/css" href='css/main.css' rel="stylesheet" /><!--<![endif]-->
	
    <!--jquery-->
	<script src="js/jquery/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="js/jquery/jquery.mobile-1.3.0.min.js" type="text/javascript"></script>
	<!-- Jquery Plugin -->
	<!--<script src="js/jquery/pivot.min.js" type="text/javascript"></script>
	<script src="js/jquery/jquery_pivot.js" type="text/javascript"></script>-->
	<script src="js/jquery/jquery.dataTables.min.js" type="text/javascript"></script>
	<script src="js/jquery/ColVis.min.js" type="text/javascript"></script>
	<script src="http://malsup.github.com/jquery.form.js"></script> 

	<!--leaflet-->
	<script src="js/leaflet/leaflet.js" type="text/javascript"></script>
	<script src="js/leaflet/leaflet.markercluster.js" type="text/javascript"></script>
	<script src="js/leaflet/leaflet.heatmap.js" type="text/javascript"></script>
	<script src="js/leaflet/leaflet.heatmap-leaflet.js" type="text/javascript"></script>
	
	<!--google map-->
    <script src="https://maps.googleapis.com/maps/api/js?sensor=false" type="text/javascript"></script>
    	
	<!--JTS Topology suite-->
	<script src="js/jsts/javascript.util.js" type="text/javascript"></script>
    <script src="js/jsts/jsts.js" type="text/javascript"></script>
	
	<!--google chart-->
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>  
	
	<!-- api -->
	<script src="js/api/pathgeo.layer.js" type="text/javascript"></script>
	<script src="js/api/pathgeo.util.js" type="text/javascript"></script>
	<script src="js/api/pathgeo.service.js" type="text/javascript"></script>
   
   	<!-- Data -->
	<script src="db/sanFran.js"></script>
	
    <!-- main -->
 	<script src="js/main.js" type="text/javascript"></script>
  </head>
  
  
  <body>
  	<div data-role="page" id='pageMap'>
  		
		<!--header-->
		<div id='header' class='ui-bar ui-bar-b'  >
			<h1 style='padding:10px 10px 10px 5px'>MapTime : <label id='lbl_dataName'></label></h1>
			
			<a href="#dialog_usermenu" data-rel='popup' data-role='button' data-position-to="origin" data-inline="true" data-transition="slideup" data-icon="home" class="" data-mini="true" style='float:right'>User</a> 
	        <a href="#dialog_help" data-rel='popup' data-role='button' data-position-to="window" data-inline="true" data-transition="slideup" data-icon="info" class="" data-mini="true" style='float:right'>Help</a>
			<a href="#dialog_sharemap" data-rel='popup' data-role='button' data-position-to="window" data-inline="true" data-transition="slideup" data-icon="star" class="" data-mini="true" style='float:right'>Share</a>
			<a href="#dialog_dataPanel" data-rel='popup' data-role='button' data-position-to="window" data-inline="true" data-transition="slideup" data-icon="bars" class="" data-mini="true" style='float:right'>Data List</a>
			<a href="#dialog_uploadData" data-rel='popup' data-role='button' data-position-to="window" data-inline="true" data-transition="slideup" data-icon="grid" class="" data-mini="true" style='float:right'>Upload Data</a>
		</div>
		
		
		<!-- content-->
		<div id='content'>
			<!-- map-->
			<div id="div_map"></div>
				
			<!-- data table -->
			<div id='dataPanel'>
				<div id='dataTable_control'></div><br>
				<table cellpadding="0" cellspacing="0" border="0" class="display" id="dataTable"></table>
				
				<!-- dataTable chart-->
				<div id='dataTable_chart' style='display:none'>
					<div id='dataTable_chartControl' >
						<div data-role="controlgroup" data-type="horizontal" style="margin:0px;">
						    <a href="#" data-role="button">Line Chart</a>
						    <a href="#" data-role="button">Pie Chart</a>
						    <a href="#" data-role="button">Area Chart</a>
						</div>
						<select id='select_y' data-mini="true"><option selected="selected">Y axis</option></select>
						<select id='select_x' data-mini="true"><option selected="selected">X axis</option></select>
					</div>
					<div id='dataTable_chartContent'></div>
				</div>
			</div>
		</div>
		
	
		
	
	
		<!-- dialog -->
		<!-- upload data -->
		<div id='dialog_uploadData' data-role="popup" data-overlay-theme="a" data-theme="c" data-dismissible="true" style='width:600px'>
			<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
			
			<form action="uploadSpreadsheet.py" method="post" id="upload_excel" enctype="multipart/form-data" style="width: 80%; margin: 0 auto;">
				<fieldset>
					<input type="file" name="photo" id="photo" style="">
					<input id="submit_button" type="submit" value="Upload">
					<img id='img_loading' src="images/loading.gif" width=15px style='display:none;' />
				</fieldset>
			</form>
			
			<input type='button' value='DEMO Data' onclick='showLayer(app.searchResult, true)'/>
		</div>
		
		
		<!--user menu-->
		<div id='dialog_usermenu' data-role="panel" data-position="right"  data-display="overlay" data-theme="a"  >
				<ul data-role="listview" data-inset="true" style="min-width:210px;" data-theme="d">
		            <li><a href="#">Upgrade Account</a></li>
		            <li><a href="#">History</a></li>
		            <li><a href="#">Settings</a></li>
		            <li><a href="#">Log out</a></li>
		        </ul>
		</div>
		
		
		<!--help-->
		<div id='dialog_help' data-role="panel" data-position="right"  data-display="overlay" data-theme="a"  >
				help
		</div>
		

		<!-- gallery-->
		<div id='div_gallery' style='bottom:0px;display:none;'>
			<div style='float:left;display:none; padding:10px;' id='mapGallery'>
				<ul data-role="listview" data-inset="true" data-divider-theme="b">
					<li>
						<div>
							<img src='images/gallery-defaultmap.png' title='Demographic Map' onclick='switchBaseLayer(app.layers.demographicData)'/>
							<img src='images/gallery-streetmap.png' title='Goolge Street Map' onclick='switchBaseLayer(app.basemaps["Google Streetmap"])'/>
							<img src='images/gallery-streetmap.png' title='Open Street Map' onclick='switchBaseLayer(app.basemaps["OpenStreetMap"])'/>
						</div>
					</li>		
				</ul>
			</div>
			<!--image-->
			<a href="#"></a>
		</div>
		
		
		
		<!--DATA LIST-->
		<div id='dialog_dataPanel' data-role="panel" data-position="left"  data-display="overlay" data-dismissible="false" data-theme="a"  >
			<div id='dataList'>
				<!--header-->
				<div data-role='header'>
					<a href="#" data-icon="check">Print</a>
					<h1>Data List</h1>
					<a href="#" data-icon="forward">Export</a>
				</div>
				<p></p>
				<!--datalist_container-->
				<div id='datalist_container'><ul data-role="listview" data-filter="true" data-filter-placeholder="Search your data" data-filter-theme="a" data-theme="a" ></ul></div>
			</div>
			
			<div id='dataDetail' data-role='panel' data-theme="a" data-overlay-theme=a data-transition="slide">
				<!--header-->
				<div data-role='header'>
					<a href="#" data-icon="home" onclick='$("#dataDetail").hide();$("#dataList").show();'>Data List</a>
					<h1 id='dataDetail_title'></h1>
					<a href="#" data-icon="forward" >Export</a>
				</div>
				
				<!--content-->
				<div id='dataDetail_content'></div>
			</div>
		</div>
		
		
	
		<!-- localInfo-->
		<div id='localInfo'>
			<a href="#" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext"  style='position:absolute; right:-10px; top:-6px;' onclick='$("#localInfo").hide();'>Close</a>
			<div data-role="navbar">
			    <ul>
			        <li><a href="#" class="ui-btn-active" onclick='$("#localInfo_demographicData").show();$("#localInfo_socialMedia").hide();'>Demographic Data</a></li>
			        <li><a href="#" onclick='$("#localInfo_demographicData").hide();$("#localInfo_socialMedia").show();'>Social Media</a></li>
			    </ul>
			</div>
			
			<div id='localInfo_demographicData'>
				<select></select>
				<P></P>
				<div id='localInfo_chart' style='overflow-y:auto; overflow-x:hidden'></div>
			</div>
			
			<div id='localInfo_socialMedia' style='display:none;'>
				SocialMedia
			</div>
		</div>
		
		
		<!-- dataTable_nav-->
		<div id='dataTable_nav' style="display:none">
			<div data-role="navbar">
			    <ul>
			        <li><a href="#" class="ui-btn-active" onclick='$("#dataTable_wrapper").show();$("#dataTable_chart").hide();'>Table</a></li>
			        <li><a href="#" onclick='$("#dataTable_wrapper").hide();$("#dataTable_chart").show();'>Chart</a></li>
			    </ul>
			</div>
		</div>
		
	</div>
	
	
	
	
</body>
</html>
